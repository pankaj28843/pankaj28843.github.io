---
layout: default
---

<section class="shell content">
  <p class="post-meta">{{ page.date | date: "%B %d, %Y" }}</p>
  <h1>{{ page.title }}</h1>
  <div class="pill-row">
    {% for category in page.categories %}
      <span class="pill outline">{{ category }}</span>
    {% endfor %}
    {% for tag in page.tags %}
      <span class="pill">{{ tag }}</span>
    {% endfor %}
  </div>
  {{ content }}

  {% if page.series %}
    <hr>
    <h2>Series: {{ page.series }}</h2>
    <ul class="taxonomy-list">
      {% assign series_posts = site.posts | where: "series", page.series %}
      {% for post in series_posts %}
        <li>
          <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          <span class="post-meta"> — {{ post.date | date: "%B %d, %Y" }}</span>
        </li>
      {% endfor %}
    </ul>
  {% endif %}

  {% if page.tags %}
    {% assign related = "" | split: "" %}
    {% for post in site.posts %}
      {% if post.url != page.url %}
        {% assign matched = false %}
        {% for tag in page.tags %}
          {% if post.tags contains tag %}
            {% assign matched = true %}
          {% endif %}
        {% endfor %}
        {% if matched %}
          {% assign related = related | push: post %}
        {% endif %}
      {% endif %}
    {% endfor %}

    {% if related.size > 0 %}
      <hr>
      <h2>Related posts</h2>
      <ul class="taxonomy-list">
        {% for post in related limit:3 %}
          <li>
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            <span class="post-meta"> — {{ post.date | date: "%B %d, %Y" }}</span>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <hr>
      <p class="post-meta">More related posts coming soon.</p>
    {% endif %}
  {% endif %}
</section>
